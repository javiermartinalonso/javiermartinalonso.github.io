(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define("PrismicToolbar",[],factory);else if(typeof exports==="object")exports["PrismicToolbar"]=factory();else root["PrismicToolbar"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=16)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _jsCookie=__webpack_require__(11);var _jsCookie2=_interopRequireDefault(_jsCookie);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PREVIEW_COOKIE_KEY="io.prismic.preview";var EXPERIMENT_COOKIE_KEY="io.prismic.experiment";exports.default={PREVIEW_COOKIE_KEY:PREVIEW_COOKIE_KEY,EXPERIMENT_COOKIE_KEY:EXPERIMENT_COOKIE_KEY,getPreviewToken:function getPreviewToken(){return _jsCookie2.default.get(PREVIEW_COOKIE_KEY)},getExperimentToken:function getExperimentToken(){return _jsCookie2.default.get(EXPERIMENT_COOKIE_KEY)},setPreviewToken:function setPreviewToken(ref){_jsCookie2.default.set(PREVIEW_COOKIE_KEY,ref,{path:"/"})},removeExperimentToken:function removeExperimentToken(){_jsCookie2.default.remove(EXPERIMENT_COOKIE_KEY)},setExperimentToken:function setExperimentToken(expId,variation){var token=[expId,variation].join(" ");var expires=60*60*24*30;_jsCookie2.default.set(EXPERIMENT_COOKIE_KEY,token,{expires:expires,path:"/"})},removeItem:_jsCookie2.default.remove}},function(module,exports){(function(self){"use strict";if(self.fetch){return}var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isDataView=function(obj){return obj&&DataView.prototype.isPrototypeOf(obj)};var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(Array.isArray(headers)){headers.forEach(function(header){this.append(header[0],header[1])},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+","+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this)}}};Headers.prototype.keys=function(){var items=[];this.forEach(function(value,name){items.push(name)});return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach(function(value){items.push(value)});return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value])});return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function parseHeaders(rawHeaders){var headers=new Headers;rawHeaders.split(/\r?\n/).forEach(function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}});return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status="status"in options?options.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);var xhr=new XMLHttpRequest;xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})(typeof self!=="undefined"?self:this)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _coookies=__webpack_require__(0);var _coookies2=_interopRequireDefault(_coookies);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function removeForPaths(pathParts,domain){var sizeWithoutLastPathPart=void 0;pathParts.forEach(function(pathPart,pathPartIndex){sizeWithoutLastPathPart=pathParts.length-1;var path=pathParts.slice(pathPartIndex,sizeWithoutLastPathPart).join("/");if(domain){_coookies2.default.removeItem(_coookies2.default.PREVIEW_COOKIE_KEY,{path:path+"/",domain:domain});_coookies2.default.removeItem(_coookies2.default.PREVIEW_COOKIE_KEY,{path:path+"/",domain:"."+domain})}else{_coookies2.default.removeItem(_coookies2.default.PREVIEW_COOKIE_KEY,{path:path+"/"})}})}function close(){var domainParts=document.location.hostname.split(".");var pathParts=document.location.pathname.split("/");removeForPaths(pathParts);domainParts.forEach(function(domainPart,domainPartIndex){var domain=domainParts.slice(domainPartIndex).join(".");removeForPaths(pathParts,domain)})}function set(previewRef){_coookies2.default.setPreviewToken(previewRef)}function get(){return _coookies2.default.getPreviewToken()}exports.default={close:close,set:set,get:get}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={value:"1.0.3"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _toolbar=__webpack_require__(8);var _toolbar2=_interopRequireDefault(_toolbar);var _editbtn=__webpack_require__(5);var _editbtn2=_interopRequireDefault(_editbtn);var _experiments=__webpack_require__(6);var _experiments2=_interopRequireDefault(_experiments);var _utils=__webpack_require__(9);var _utils2=_interopRequireDefault(_utils);var _version=__webpack_require__(3);var _version2=_interopRequireDefault(_version);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function buildConfig(endpoint){var matches=endpoint.match(new RegExp("(https?://([^/]*))"));if(matches){var baseURL=matches[1].replace(/\.cdn\.prismic\.io/,".prismic.io");var editorTab=matches[2].replace(/\.cdn\.prismic\.io/,".prismic.io");return{baseURL:baseURL,editorTab:editorTab}}return{}}function setupToolbar(endpoint){if(endpoint){var config=buildConfig(endpoint);_toolbar2.default.setup(config);_editbtn2.default.setup(config)}}exports.default={setup:_utils2.default.debounce(setupToolbar,500),startExperiment:function startExperiment(expId){if(expId){_experiments2.default.start(expId)}},version:_version2.default.value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _coookies=__webpack_require__(0);var _coookies2=_interopRequireDefault(_coookies);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpERjQ5QUU2RjNEMjA2ODExODhDNkNCNjMxRDc2RjgxMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDNEVBRjk1MDJGRjIxMUUyOEMwOTk5MjNGNzE3MTFBNCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDNEVBRjk0RjJGRjIxMUUyOEMwOTk5MjNGNzE3MTFBNCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTQ5NzEzQkEyNzIwNjgxMThGNjJCODhCQkREMUY0RkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REY0OUFFNkYzRDIwNjgxMTg4QzZDQjYzMUQ3NkY4MTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5adgfzAAABo0lEQVR42uybz2YDURSHb/8oXfUBSrddlW7zBqWrvkEppWQbSrahDF2FMISsssq2tFSqpEofoJRW32C6LCG053Avd3VNJneRc87vx0fInTHfmTh3bsx1Tl+OiQHxTfwRFTElCv+d2uwQpZdOUfqxqrJHvNaQD8w0FWFZ+cDQsjyzII62hMvfE62Gx29avfMxH5blmV+JBehlkmfmUuf7SaYCfErtAdy8xxkKcCO5EXIRRivI8zR4KKXhnSfGlA0LcCtB/i264MvE2P6S8lP/CxIjH2gnjilqyj8TuxLlA50Vpkjx8nWK0NUuH+gmztXRLh/oJc7ZjhqeSvlAkTj3mXb5QF/qqi6HfPxfn1n5wGjdH3Byr+dFTnWQhzzkIQ95yEMe8pCHPOQhD3nIQx7ykIc85CEPechDfn1yZ1meL3BuVZ5zalmeM7Asz3m3LH9gWZ5zZVmeM7Ysz29VVFblOS3L8pxry/KcmWu232aiQZ4XPwtXf5cVv5h44hTtvEw9/lb+Ll8Q+05htn0B4rwQT8Sj/6w6G76JfREPXvzHGcq/AAMAq1GE9ggQGt8AAAAASUVORK5CYII=";function setup(config){var previewToken=_coookies2.default.getPreviewToken();var experimentToken=_coookies2.default.getExperimentToken();if(!config.baseURL)return;fetch(config.baseURL+"/app/authenticated/v2",{credentials:"include"}).then(function(response){var contentType=response.headers.get("content-type");if(contentType&&contentType.indexOf("application/json")!==-1){response.json().then(function(json){if(json.userId){document.querySelectorAll(".wio-link").forEach(function(el){el.parentNode.removeChild(el)});document.querySelectorAll("[data-wio-id]").forEach(function(el){var documentId=el.dataset.wioId;var url=function(){if(previewToken){return config.baseURL+"/app/documents/"+documentId+"/preview/"+encodeURIComponent(previewToken)}else if(experimentToken){var value=experimentToken.split(" ");var experimentId=value[0];var variationId=value[1];return config.baseURL+"/app/documents/"+documentId+"/experiments/"+encodeURIComponent(experimentId)+"/variations/"+encodeURIComponent(variationId)}return config.baseURL+"/app/documents/"+documentId+"/ref"}();var button=function(){var btn=document.createElement("a");btn.className="wio-link";btn.setAttribute("target",config.editorTab);btn.setAttribute("href",url);var img=document.createElement("img");img.setAttribute("style","width: 16px; background: none;");img.setAttribute("src",icon);btn.appendChild(img);return btn}();el.insertBefore(button,el.firstChild)})}})}}).catch(function(){})}exports.default={setup:setup}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _coookies=__webpack_require__(0);var _coookies2=_interopRequireDefault(_coookies);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function loadGoogleExperimentScript(googleId,callback){var src="//www.google-analytics.com/cx/api.js?experiment="+googleId;var alreadyExists=document.querySelector('[src="'+src+'"]');if(alreadyExists){callback()}else{var head=document.querySelector("head");var script=document.createElement("script");var loaded=false;var onLoaded=function onLoaded(){if(!loaded&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){loaded=true;callback();script.onload=undefined;script.onreadystatechange=undefined}};script.onload=onLoaded;script.onreadystatechange=onLoaded;script.src=src;head.appendChild(script)}}function start(googleId){loadGoogleExperimentScript(googleId,function(){try{var previewToken=_coookies2.default.getPreviewToken();if(!previewToken){var inCookie=(_coookies2.default.getExperimentToken()||"").split(" ");var googleVariation=window.cxApi.chooseVariation();if(googleVariation===window.cxApi.NOT_PARTICIPATING){_coookies2.default.removeExperimentToken();return}if(inCookie[0]!==googleId||inCookie[1]!==googleVariation.toString()){_coookies2.default.setExperimentToken(googleId,googleVariation);window.location.reload()}}}catch(e){}})}exports.default={start:start}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _preview=__webpack_require__(2);var _preview2=_interopRequireDefault(_preview);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var queryString=__webpack_require__(13);var PRISMIC_SESSION_PARAM="prismic-session";function logError(message){console.error("[prismic.io] Unable to access to preview session: "+message)}function listen(config,callback){var qs=queryString.parse(window.location.hash);var sessionId=qs[PRISMIC_SESSION_PARAM];if(sessionId){var endpoint=config.baseURL+"/previews/shared/"+sessionId;fetch(endpoint).then(function(response){response.json().then(function(json){if(json.ref){_preview2.default.close();_preview2.default.set(json.ref);delete qs[PRISMIC_SESSION_PARAM];var maybeHash=queryString.stringify(qs);var hash=maybeHash?"#"+maybeHash:"";var url=""+window.location.origin+window.location.pathname+window.location.search+hash;document.location=url}else{logError("Session id isn't valid");callback()}}).catch(function(){logError("Invalid server response");callback()})}).catch(function(){logError("Invalid server response");callback()})}else{callback()}}exports.default={listen:listen}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(1);var _share=__webpack_require__(7);var _share2=_interopRequireDefault(_share);var _preview=__webpack_require__(2);var _preview2=_interopRequireDefault(_preview);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var toolbarStyle=void 0;var bodyStyle=void 0;var htmlStyle=void 0;function display(iframe,dimension){iframe.style.width=dimension.width+"px";iframe.style.height=dimension.height+"px";iframe.style.opacity=1;toolbarStyle=iframe.getAttribute("style");bodyStyle=document.body.style;htmlStyle=document.documentElement.style}function toggle(iframe,mode){if(mode==="detail"){iframe.style.top=0;iframe.style.left=0;iframe.style.right=0;iframe.style.bottom=0;iframe.style.width="100%";iframe.style.height="100%";document.body.style.overflow="hidden";document.documentElement.style.overflow="hidden"}else{iframe.setAttribute("style",toolbarStyle);document.body.style=bodyStyle;document.documentElement.style=htmlStyle}}function reload(url){if(url){document.location=url}else{document.location.reload()}}function setup(config){var previewToken=_preview2.default.get();_share2.default.listen(config,function(){if(previewToken){var existingToolbar=document.querySelector("#io-prismic-toolbar");if(existingToolbar)existingToolbar.remove();var iframe=function(){var ifr=document.createElement("iframe");ifr.setAttribute("id","io-prismic-toolbar");ifr.setAttribute("src",previewToken);ifr.style.position="fixed";ifr.style.bottom="10px";ifr.style.right="20px";ifr.style.height="50px";ifr.style.width="100%";ifr.style.border="none";ifr.style["z-index"]=2147483e3;ifr.style.opacity=0;document.body.appendChild(ifr);return ifr}();window.addEventListener("message",function(e){var message=e.data;switch(message.type){case"io.prismic.init":console.log("init",message.data);break;case"io.prismic.display":display(iframe,message.data);break;case"io.prismic.closeSession":_preview2.default.close();break;case"io.prismic.reload":reload(message.data);break;case"io.prismic.change":_preview2.default.close();_preview2.default.set(message.data.ref);break;case"io.prismic.toggle":toggle(iframe,message.data);break;default:break}})}})}exports.default={setup:setup}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={debounce:function debounce(func,wait,immediate){var _this=this;var timeout=void 0;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var context=_this;var later=function later(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}}},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(factory){var registeredInModuleLoader=false;if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));registeredInModuleLoader=true}if(true){module.exports=factory();registeredInModuleLoader=true}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api}}})(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){var result;if(typeof document==="undefined"){return}if(arguments.length>1){attributes=extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e5);attributes.expires=expires}attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes){if(!attributes[attributeName]){continue}stringifiedAttributes+="; "+attributeName;if(attributes[attributeName]===true){continue}stringifiedAttributes+="="+attributes[attributeName]}return document.cookie=key+"="+value+stringifiedAttributes}if(!key){result={}}var cookies=document.cookie?document.cookie.split("; "):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split("=");var cookie=parts.slice(1).join("=");if(!this.json&&cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.set=api;api.get=function(key){return api.call(api,key)};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})})},function(module,exports,__webpack_require__){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},function(module,exports,__webpack_require__){"use strict";var strictUriEncode=__webpack_require__(14);var objectAssign=__webpack_require__(12);var decodeComponent=__webpack_require__(10);function encoderForArrayFormat(opts){switch(opts.arrayFormat){case"index":return function(key,value,index){return value===null?[encode(key,opts),"[",index,"]"].join(""):[encode(key,opts),"[",encode(index,opts),"]=",encode(value,opts)].join("")};case"bracket":return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"[]=",encode(value,opts)].join("")};default:return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"=",encode(value,opts)].join("")}}}function parserForArrayFormat(opts){var result;switch(opts.arrayFormat){case"index":return function(key,value,accumulator){result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return function(key,value,accumulator){result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}else if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};default:return function(key,value,accumulator){if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function encode(value,opts){if(opts.encode){return opts.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}else if(typeof input==="object"){return keysSorter(Object.keys(input)).sort(function(a,b){return Number(a)-Number(b)}).map(function(key){return input[key]})}return input}exports.extract=function(str){var queryStart=str.indexOf("?");if(queryStart===-1){return""}return str.slice(queryStart+1)};exports.parse=function(str,opts){opts=objectAssign({arrayFormat:"none"},opts)
;var formatter=parserForArrayFormat(opts);var ret=Object.create(null);if(typeof str!=="string"){return ret}str=str.trim().replace(/^[?#&]/,"");if(!str){return ret}str.split("&").forEach(function(param){var parts=param.replace(/\+/g," ").split("=");var key=parts.shift();var val=parts.length>0?parts.join("="):undefined;val=val===undefined?null:decodeComponent(val);formatter(decodeComponent(key),val,ret)});return Object.keys(ret).sort().reduce(function(result,key){var val=ret[key];if(Boolean(val)&&typeof val==="object"&&!Array.isArray(val)){result[key]=keysSorter(val)}else{result[key]=val}return result},Object.create(null))};exports.stringify=function(obj,opts){var defaults={encode:true,strict:true,arrayFormat:"none"};opts=objectAssign(defaults,opts);if(opts.sort===false){opts.sort=function(){}}var formatter=encoderForArrayFormat(opts);return obj?Object.keys(obj).sort(opts.sort).map(function(key){var val=obj[key];if(val===undefined){return""}if(val===null){return encode(key,opts)}if(Array.isArray(val)){var result=[];val.slice().forEach(function(val2){if(val2===undefined){return}result.push(formatter(key,val2,result.length))});return result.join("&")}return encode(key,opts)+"="+encode(val,opts)}).filter(function(x){return x.length>0}).join("&"):""};exports.parseUrl=function(str,opts){return{url:str.split("?")[0]||"",query:this.parse(this.extract(str),opts)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(str){return encodeURIComponent(str).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}},function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(4);var _index2=_interopRequireDefault(_index);var _version=__webpack_require__(3);var _version2=_interopRequireDefault(_version);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}document.addEventListener("DOMContentLoaded",function(){if(window.prismic&&window.prismic.endpoint){_index2.default.setup(window.prismic.endpoint)}});exports.setup=_index2.default.setup;exports.startExperiment=_index2.default.startExperiment;exports.version=_version2.default.value},function(module,exports,__webpack_require__){__webpack_require__(1);module.exports=__webpack_require__(15)}])});